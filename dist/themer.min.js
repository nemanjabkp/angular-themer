/**
 * angular-themer - v0.4.2 - 2016-12-26
 * https://github.com/nemanjabkp/angular-themer
 * Copyright (c) 2016 Franziskus Domig
 */
angular.module("angular-themer",[]).provider("themer",function(){"use strict";var a=!1,b=[],c={label:"",href:[""]},d=[];this.setStyles=function(a){b=a,angular.forEach(b,function(a){void 0!==a.href&&null!==a.href||(a.href=[]),Array.isArray(a.href)||(a.href=[a.href])})};var e=this.getStyles=function(){return angular.copy(b)};this.storeTheme=function(b){"boolean"==typeof b&&(a=b)},this.getStoredTheme=function(){if(a&&localStorage)return localStorage.getItem("selectedTheme")};var f=function(a){d.push(a)},g=this.getSelected=function(){return angular.copy(c)},h=this.setSelected=function(a){angular.forEach(b,function(b){b.key===a&&(c=b,angular.forEach(d,function(a){a(g())}))})};this.$get=[function(){return{storeTheme:a,getSelected:g,setSelected:h,addWatcher:f,getStyles:e}}]}).directive("themerLink",function(){"use strict";return{restrict:"A",template:'<link rel="stylesheet" ng-repeat="style in selected" ng-href="{{ style }}" />',replace:!0,scope:!0,controller:["$scope","themer",function(a,b){a.selected=b.getSelected().href,b.addWatcher(function(b){a.selected=b.href})}]}}).directive("themerSwitcher",function(){"use strict";return{restrict:"A",template:'<select ng-model="theme.selected" ng-options="style.key as style.label for style in theme.styles"></select>',replace:!0,scope:!1,controller:["$scope","themer",function(a,b){a.theme={styles:b.getStyles(),selected:b.getSelected().key},a.$watch("theme.selected",function(){a.theme.selected&&(b.setSelected(a.theme.selected),b.storeTheme&&localStorage&&localStorage.setItem("selectedTheme",a.theme.selected))})}]}});
